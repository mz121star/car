<script>
    $(function () {
        $("#left").accordion();
    });

    function LoadGoods(ele) {
        $(ele).closest("#left").find("a").removeClass("active"); $(ele).addClass("active");
    }
</script>
@using car.DTO;
@using System.Web.Mvc.Html;
<div class="container">

    <div class="row">
        <div id="left" class="col-xs-0 col-md-4">
            <div class="panel-group" id="accordion">
                <div class="panel panel-default">
                    @{
                        var firstList = Model.FirstList;
                        var secondList = Model.SecondList as List<SecondGoods>;
                        foreach (var item in firstList)
                        {
                            var id = item.GOODSCATEGORYID;
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#collapseOne@id">
                                    <h3>@item.GOODSCATEGORYNAME</h3>
                                </a>
                            </h4>
                        </div>
                    
                        <div id="collapseOne" class="panel-collapse collapse in">
                            <div class="panel-body">
                                 
                                @foreach (var second in secondList.Where(x => x.FIRSTID == id))
                                {<li>
                                    @Html.ActionLink(second.GOODSTYPENAME, "LoadGoods", new { typeId = second.GOODSTYPEID },
                                                     new { onclick = "LoadGoods(this);return false;", @class = "list", data_ajax = true })
                                 @*<a href="#" data-ajax="true" class="list-group-item" onclick='LoadGoods("@second.GOODSTYPEID",this)'>
                                    <h4 class="list-group-item-heading">@second.GOODSTYPENAME</h4>
                                </a>*@
                                    </li>
                                }
                                     
                            </div>
                        </div>
                        }
                    }
                </div>
            </div>
        </div>
        @Html.Partial("Partial\\_RightViewGrid", null)
    </div>

</div>
